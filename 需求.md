# FedFed项目需求文档总结

## 主要任务

1. 将GitHub上的代码中的数据集换成Yummly28k食品图片的数据集
2. 按照食品的种类分类数据，考虑数据分布的异构性，按照原项目的迪利克雷分布在10个客户端上进行非均匀分布

## 算法实现与比较

3.对比fedavg、fedprox和pfedme三种算法的可视化精确度和曲线图，以及项目中本来的特征蒸馏FD方法

## 性能评估要求

4.绘制单机跑该数据集的精确度和损失函数曲线图

## 数据集信息

5. 使用Yummly-28K数据集：
   - 包含27,638个食谱
   - 每个食谱包含一张图片、配料、菜系和课程信息
   - 共有16种菜系（如美国、意大利、墨西哥等）
   - 13种食谱类型（如主菜、甜点、午餐和小吃等）
   - 下载地址：http://123.57.42.89/Dataset_ict/Yummly-66K-28K/Yummly28K.zip
   - 参考论文：《Being a Super Cook: Joint Food Attributes and Multi-Modal Content Modeling for Recipe Retrieval and Exploration》(2017)

## 项目参考

6.项目地址：https://github.com/visitworld123/FedFed

## 附加要求

7.最后需要展示具体的数值结果（如图表中所示的客户端准确率等指标） 

每个客户端(client_0到client_9)在测试集上的最终准确率（表格中蓝色列显示的数值，如96.7867、96.1019、96.2871等）
服务器(server)的全局模型准确率（表格中黄色列的数值，如93.0337）
最佳整体准确率(Best_Smoothed_Score)的指标（表格中粉红色列的数值，如91.0863）
这些具体数值结果需要以类似截图底部表格的形式呈现，目的是让人们能够:
直观比较不同联邦学习算法(fedavg、fedprox、pfedme和FD)的性能差异
分析不同客户端在异构数据分布下的模型性能
评估联邦学习与中心化学习(单机运行)相比的性能差距
这些数值是最终评估项目成功与否的重要量化指标。

# 在data_preprocessing目录下创建Yummly数据加载模块
# 例如：data_preprocessing/yummly/datasets.py

def load_yummly28k(data_dir):
    # 实现Yummly28k数据集加载逻辑
    # 数据包含27,638个食谱，16种菜系，应设置为分类任务
    # 每个样本包含图片和对应的菜系类别
    pass

# 在config.yaml中修改数据集配置
# dataset: 'yummly28k'
# num_classes: 16  # 16种菜系
# model_input_channels: 3  # RGB图像

# 在data_preprocessing/loader.py中修改分区方法
def partition_data(dataset, num_clients, alpha=0.1):
    # 保持原项目的迪利克雷分布方法
    # alpha=0.1表示高度非均匀分布
    # 确保10个客户端获得不同分布的食品类别数据
    pass

# 检查并确保algorithms_standalone目录下有这些算法实现：
# - fedavg (已有)
# - fedprox (可能需要添加)
# - pfedme (需要添加)

# 添加pfedme算法实现
# 例如：algorithms_standalone/pfedme/PFedMeManager.py

# 在main.py或单独的评估脚本中添加单机训练基准

def train_centralized():
    # 实现单机训练逻辑，记录精确度和损失
    pass

# 在utils目录下添加或修改可视化工具

def plot_comparison(fedavg_results, fedprox_results, pfedme_results, fd_results):
    # 生成算法比较的曲线图
    pass

def generate_metrics_table(all_results):
    # 生成包含所有客户端和服务器准确率的表格
    # 类似截图中的最终结果表格
    pass

# 在config.yaml中添加算法选择选项

algorithm: 'FedAvg'  # 可选: 'FedAvg', 'FedProx', 'PFedMe', 'FD'

# 添加pfedme相关参数

pfedme_beta: 1.0
pfedme_lamda: 15.0
pfedme_personalized_learning_rate: 0.01



15691066554

